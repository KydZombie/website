import * as vector from "../../../common/vector.js";
import * as textureManager from "../../../common/textureManager.js";
export let sprites = new Array;
export class Sprite {
    constructor(ctx, data, xOrPos, y) {
        this.ctx = ctx;
        this.data = data;
        if (xOrPos instanceof vector.Pos) {
            this.pos = xOrPos;
        }
        else if (xOrPos != null && y != null) {
            this.pos = new vector.Pos(xOrPos, y);
        }
        else {
            this.pos = new vector.Pos(0, 0);
        }
    }
    click() {
        this.data.click(this);
    }
    update() {
        this.data.update(this);
    }
    draw() {
        this.data.draw(this.ctx, this.pos.x, this.pos.y);
    }
}
export class SpriteData {
    constructor(name, textureId) {
        this.name = name;
        this.textureId = textureId;
        this.texture = textureManager.getTexture(`assets/${textureId}.png`);
    }
    spawn(ctx, xOrPos, y) {
        let sprite = new Sprite(ctx, this, xOrPos, y);
        sprites.push(sprite);
        return sprite;
    }
    registerTexture(texture) {
        this.texture = texture;
    }
    draw(ctx, xOrPos, y) {
        if (!this.texture)
            return;
        if (xOrPos instanceof vector.Pos) {
            ctx.drawImage(this.texture, xOrPos.x, xOrPos.y);
        }
        else if (y != null) {
            ctx.drawImage(this.texture, xOrPos, y);
        }
    }
    click(object) { }
    update(object) { }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ByaXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dhbWVzL3F1aWQvb2JqZWN0cy9zcHJpdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLE1BQU0sTUFBTSwyQkFBMkIsQ0FBQztBQUNwRCxPQUFPLEtBQUssY0FBYyxNQUFNLG1DQUFtQyxDQUFDO0FBRXBFLE1BQU0sQ0FBQyxJQUFJLE9BQU8sR0FBRyxJQUFJLEtBQWEsQ0FBQztBQUV2QyxNQUFNLE9BQU8sTUFBTTtJQUVmLFlBQW9CLEdBQTZCLEVBQVUsSUFBZ0IsRUFBRSxNQUEyQixFQUFFLENBQVU7UUFBaEcsUUFBRyxHQUFILEdBQUcsQ0FBMEI7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUFZO1FBQ3ZFLElBQUksTUFBTSxZQUFZLE1BQU0sQ0FBQyxHQUFHLEVBQUU7WUFDOUIsSUFBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUM7U0FDckI7YUFBTSxJQUFJLE1BQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNwQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNILElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7SUFDRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUNELE1BQU07UUFDRixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBQ0QsSUFBSTtRQUNBLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDO0NBQ0o7QUFFRCxNQUFNLE9BQWdCLFVBQVU7SUFLNUIsWUFBWSxJQUFZLEVBQUUsU0FBaUI7UUFDdkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFFM0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDLFVBQVUsU0FBUyxNQUFNLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBQ0QsS0FBSyxDQUFDLEdBQTZCLEVBQUUsTUFBMkIsRUFBRSxDQUFVO1FBQ3hFLElBQUksTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzlDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckIsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUNELGVBQWUsQ0FBQyxPQUF5QjtRQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMzQixDQUFDO0lBQ0QsSUFBSSxDQUFDLEdBQTZCLEVBQUUsTUFBMkIsRUFBRSxDQUFVO1FBQ3ZFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFDMUIsSUFBSSxNQUFNLFlBQVksTUFBTSxDQUFDLEdBQUcsRUFBRTtZQUM5QixHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkQ7YUFBTSxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7WUFDbEIsR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztTQUMxQztJQUNMLENBQUM7SUFFRCxLQUFLLENBQUMsTUFBYyxJQUFHLENBQUM7SUFDeEIsTUFBTSxDQUFDLE1BQWMsSUFBRyxDQUFDO0NBQzVCIn0=